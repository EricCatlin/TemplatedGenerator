_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{Bdpc:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/template-generator",function(){return r("OM+u")}])},E4MH:function(e,t){e.exports={exportPathMap:function(){return{"/":{page:"/"}}},basePath:"/TemplatedGenerator",assetPrefix:"/TemplatedGenerator",github:"https://github.com/EricCatlin"}},JfgW:function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return m})),r.d(t,"a",(function(){return b})),r.d(t,"c",(function(){return f})),r.d(t,"f",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return u}));var n,a,o=r("rePB");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=null!==(n=null===(a=e)||void 0===a?void 0:a.localStorage)&&void 0!==n?n:{getItem:function(){return null}},l=s.getItem("Presets");console.log({localPresets:l});var u=null!==l?JSON.parse(l):{KeyMapStates:{Default:{keyMap:{City:"Seattle",Service:"Window Repair",Currency:"dollar"}},Alternate:{keyMap:{City:"Tacoma",Service:"Window Repair",Currency:"TacomaDollars"}}},TemplateStates:{Default:{template:"The best {{Service}} in {{City}} for your {{Currency}}"},Alternate:{template:"The best {{City}} for {{Service}} for the least {{Currency}}"}}},d={keyMap:JSON.parse(JSON.stringify(u.KeyMapStates.Default.keyMap)),name:"Default"},p={template:JSON.parse(JSON.stringify(u.TemplateStates.Default.template)),name:"Default"};function f(e,t){var r=t.type,n=t.value;switch(r){case"preset/template/add":var a=n.templateStore,o=a.template,c=(a.name,n.newTemplateName),l=n.templateDispatch;e.TemplateStates[c]={template:o,name:c},l({type:"template/load-from-preset",value:{presetStore:e,name:c}});break;case"preset/template/update":var u=n.template,d=n.name;e.TemplateStates[d].template=u;break;case"preset/key/update":var p=n.keyMap,f=n.name;e.KeyMapStates[f].keyMap=p;break;case"preset/key/add":var b=n.keyMapStore,m=b.keyMap,h=(b.name,n.newKeyMapName),v=n.keyMapDispatch;e.KeyMapStates[h]={keyMap:m,name:h},v({type:"key/load-from-preset",value:{presetStore:e,name:h}});break;case"preset/key/load-from-file":e.KeyMapStates=n;break;case"preset/template/load-from-file":e.TemplateStates=n;break;default:console.log("Unhanlded action",{state:e,action:t})}return s.setItem("Presets",JSON.stringify(e)),i({},e)}function b(e,t){var r=t.type,n=t.value;switch(r){case"key/add":if(!e.keyMap[n])return e.keyMap[n]="",i({},e);break;case"key/update":return Object.assign(e.keyMap,n),i({},e);case"key/load-from-preset":if(n.presetStore.KeyMapStates[n.name])return e.name=n.name,e.keyMap=JSON.parse(JSON.stringify(n.presetStore.KeyMapStates[n.name].keyMap)),i({},e);break;default:console.log("Unhanlded action",{state:e,action:t})}return e}function m(e,t){var r=t.type,n=t.value;switch(r){case"template/update":e.template=n;break;case"template/load-from-preset":console.log({value:n}),n.presetStore.TemplateStates[n.name]&&(e.name=n.name,e.template=JSON.parse(JSON.stringify(n.presetStore.TemplateStates[n.name].template)));default:console.log("Unhanlded action",{state:e,action:t})}return i({},e)}}).call(this,r("yLpj"))},"OM+u":function(e,t,r){"use strict";r.r(t);var n=r("rePB"),a=r("nKUr"),o=r("q1tI"),c=r("oTOh"),i=r("kwT+"),s=r("wx14"),l=r("zLVn"),u=o.useLayoutEffect,d=function(e){var t=Object(o.useRef)(e);return u((function(){t.current=e})),t},p=function(e,t){"function"!==typeof e?e.current=t:e(t)},f=function(e,t){var r=Object(o.useRef)();return Object(o.useCallback)((function(n){e.current=n,r.current&&p(r.current,null),r.current=t,t&&p(t,n)}),[t])},b={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=function(e){Object.keys(b).forEach((function(t){e.style.setProperty(t,b[t],"important")}))},h=null;var v=function(){},y=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],j=!!document.documentElement.currentStyle,g=function(e,t){var r=e.cacheMeasurements,n=e.maxRows,a=e.minRows,c=e.onChange,i=void 0===c?v:c,u=e.onHeightChange,p=void 0===u?v:u,b=Object(l.a)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var g=void 0!==b.value,x=Object(o.useRef)(null),O=f(x,t),w=Object(o.useRef)(0),S=Object(o.useRef)(),k=function(){var e=x.current,t=r&&S.current?S.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n=(r=t,y.reduce((function(e,t){return e[t]=r[t],e}),{})),a=n.boxSizing;return""===a?null:(j&&"border-box"===a&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(t){S.current=t;var o=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),h||((h=document.createElement("textarea")).setAttribute("tab-index","-1"),h.setAttribute("aria-hidden","true"),m(h)),null===h.parentNode&&document.body.appendChild(h);var a=e.paddingSize,o=e.borderSize,c=e.sizingStyle,i=c.boxSizing;Object.keys(c).forEach((function(e){var t=e;h.style[t]=c[t]})),m(h),h.value=t;var s=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize}(h,e);h.value="x";var l=h.scrollHeight-a,u=l*r;"border-box"===i&&(u=u+a+o),s=Math.max(u,s);var d=l*n;return"border-box"===i&&(d=d+a+o),[s=Math.min(d,s),l]}(t,e.value||e.placeholder||"x",a,n),c=o[0],i=o[1];w.current!==c&&(w.current=c,e.style.setProperty("height",c+"px","important"),p(c,{rowHeight:i}))}};return Object(o.useLayoutEffect)(k),function(e){var t=d(e);Object(o.useEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(k),Object(o.createElement)("textarea",Object(s.a)({},b,{onChange:function(e){g||k(),i(e)},ref:O}))},x=Object(o.forwardRef)(g),O=r("JfgW");function w(e,t){var r=new Blob([JSON.stringify(t)],{type:"text/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(r,e);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}function S(e,t){var r=new FileReader;r.onloadend=function(e){t(JSON.parse(r.result))},r.readAsText(e)}t.default=function(){var e=Object(o.useReducer)(O.e,O.f),t=e[0],r=e[1],s=Object(o.useReducer)(O.a,O.b),l=s[0],u=s[1],d=Object(o.useReducer)(O.c,O.d),p=d[0],f=d[1],b=Object(o.useState)(""),m=b[0],h=b[1],v=Object(o.useState)(""),y=v[0],j=v[1],g=Object(o.useState)(""),k=g[0],N=g[1],M=Object(o.useState)(""),C=M[0],T=M[1],E=Object(o.useState)(""),R=E[0],P=E[1],L=Object(o.useRef)(),K=Object(o.useRef)(),z=Object(o.useMemo)((function(){var e=t.template;return Object.keys(l.keyMap).forEach((function(t){var r=l.keyMap[t];t&&r&&e&&e.replaceAll&&(console.log("pre",{output:e,key:t,value:r}),e=e.replaceAll("{{".concat(t,"}}"),r),console.log("post",{output:e,key:t,value:r}))})),e}),[t,l]),J=function(){u({type:"key/add",value:m}),h("")},D=Object(o.useMemo)((function(){return t.template!==p.TemplateStates[t.name].template}),[t,p]),_=Object(o.useMemo)((function(){return JSON.stringify(l.keyMap)!==JSON.stringify(p.KeyMapStates[l.name].keyMap)}),[l,p]);return console.log({keyMapEdited:_,keyMapStore:l,presetStore:p}),Object(a.jsxs)("div",{className:"view-wrapper",children:[Object(a.jsx)(c.a,{title:"City Service Content Generator"}),Object(a.jsx)(i.a,{text:"Live Template Constructor",dark:!0}),Object(a.jsxs)("div",{className:"inputs row padded",children:[Object(a.jsxs)("div",{className:"wide column padded elevated rounded bordered",children:[Object(a.jsxs)("div",{className:"row lightgrey rounded",children:[l.name," Keys"]}),Object(a.jsxs)("div",{className:"row flex-grow",children:[Object(a.jsxs)("div",{className:"column padded flex-start",children:[Object(a.jsx)("div",{className:"wide row white flex-start ",children:Object(a.jsx)("input",{className:"wide",type:"text",placeholder:"Filter",value:C,onChange:function(e){var t=e.target.value;return T(t)}})}),Object(a.jsx)("div",{className:"column flex-start  bordered elevated ",style:{overflowY:"auto",maxHeight:"300px",minWidth:"150px"},children:Object.keys(p.KeyMapStates).filter((function(e){return!C||e.toLowerCase().indexOf(C.toLowerCase())>=0})).map((function(e){return Object(a.jsx)("div",{onClick:function(t){t.target.value;u({type:"key/load-from-preset",value:{presetStore:p,name:e}})},style:{padding:"3px"},className:"row flex-start bordered-b ".concat(l.name===e?"lightgrey":""),children:e},e)}))}),Object(a.jsxs)("div",{className:"row wide flex-end",children:[Object(a.jsx)("input",{ref:K,type:"file",accept:"text/json",onChange:function(e){return S(K.current.files[0],(function(e){return f({type:"preset/key/load-from-file",value:e})}))}}),Object(a.jsx)("input",{type:"button",value:"Export",onClick:function(){return w("keyMap.json",p.KeyMapStates)}})]})]}),Object(a.jsxs)("table",{className:"table padded wide  ",children:[Object(a.jsx)("thead",{className:"lightgrey",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"bordered-r bordered-b",children:"Keys"}),Object(a.jsx)("th",{className:"bordered-b",children:"Values"})]})}),Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("input",{type:"text",value:m,onChange:function(e){var t=e.target.value;return h(t)},onKeyPress:function(e){return"Enter"===e.code&&J()},placeholder:"New Key"}),Object(a.jsx)("input",{type:"button",value:"Add",className:"half-padded ",onClick:function(){return J()}})]})})})}),Object.keys(l.keyMap).map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"bordered-r bordered-b",children:"{{ ".concat(e," }}")}),Object(a.jsx)("td",{className:"row bordered-b",children:Object(a.jsx)("input",{type:"text",className:"",value:l.keyMap[e],onChange:function(t){var r=t.target.value;return u({type:"key/update",value:Object(n.a)({},e,r)})},placeholder:"...placeholder"})})]},e)}))]})]})]}),Object(a.jsxs)("div",{className:"row flex-end ",children:[_&&Object(a.jsx)("input",{style:{marginRight:"20px"},type:"button",value:"Update",onClick:function(){return f({type:"preset/key/update",value:l})}}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("input",{type:"text",value:R,onChange:function(e){var t=e.target.value;return P(t)},onKeyPress:function(e){"Enter"===e.code&&(f({type:"preset/key/add",value:{keyMapStore:l,newKeyMapName:R,keyMapDispatch:u}}),P(""))}}),Object(a.jsx)("input",{type:"button",value:"Save as New",disabled:!R||0===R.length||p.KeyMapStates[R],onClick:function(){f({type:"preset/key/add",value:{keyMapStore:l,newKeyMapName:R,keyMapDispatch:u}}),P("")}})]})]})]}),Object(a.jsxs)("div",{className:"wide column  padded rounded elevated bordered",children:[Object(a.jsxs)("div",{className:"row lightgrey rounded",children:[t.name," Template"]}),Object(a.jsxs)("div",{className:"row flex-grow padded-half",children:[Object(a.jsxs)("div",{className:"column padded flex-start",children:[Object(a.jsx)("div",{className:"wide row white flex-start ",style:{position:"sticky",top:"0px"},children:Object(a.jsx)("input",{className:"wide",type:"text",placeholder:"Filter",value:k,onChange:function(e){var t=e.target.value;return N(t)}})}),Object(a.jsx)("div",{className:"column flex-start  bordered elevated ",style:{overflowY:"auto",maxHeight:"300px",minWidth:"150px"},children:Object.keys(p.TemplateStates).filter((function(e){return!k||e.toLowerCase().indexOf(k.toLowerCase())>=0})).map((function(e){return Object(a.jsx)("div",{onClick:function(t){t.target.value;r({type:"template/load-from-preset",value:{presetStore:p,name:e}})},style:{padding:"3px"},className:"row flex-start bordered-b ".concat(t.name===e?"lightgrey":""),children:e},e)}))}),Object(a.jsxs)("div",{className:"row wide flex-end",children:[Object(a.jsx)("input",{ref:L,type:"file",accept:"text/json",onChange:function(e){return S(L.current.files[0],(function(e){return f({type:"preset/template/load-from-file",value:e})}))}}),Object(a.jsx)("input",{type:"button",value:"Export",onClick:function(){return w("templates.json",p.TemplateStates)}})]})]}),Object(a.jsx)(x,{type:"textarea",minRows:5,className:"padded rounded elevated flex-grow",value:t.template,onChange:function(e){var t=e.target.value;return r({type:"template/update",value:t})},placeholder:"...Paste your template here..."})]}),Object(a.jsxs)("div",{className:"row flex-end",children:[D&&Object(a.jsx)("input",{style:{marginRight:"20px"},type:"button",value:"Update",onClick:function(){return f({type:"preset/template/update",value:t})}}),Object(a.jsxs)("div",{className:"column ",children:[Object(a.jsx)("input",{type:"text",value:y,onChange:function(e){var t=e.target.value;return j(t)},onKeyPress:function(e){"Enter"===e.code&&(f({type:"preset/template/add",value:{templateStore:t,newTemplateName:y,templateDispatch:r}}),j(""))}}),Object(a.jsx)("input",{type:"button",value:"Save as New",disabled:!y||0===y.length||p.TemplateStates[y],onClick:function(){f({type:"preset/template/add",value:{templateStore:t,newTemplateName:y,templateDispatch:r}}),j("")}})]})]})]})]}),Object(a.jsx)("div",{className:"inputs row padded flex-start",children:Object(a.jsxs)("div",{className:"wide column  padded rounded elevated bordered",children:[Object(a.jsx)("div",{className:"row lightgrey rounded",children:"Output"}),Object(a.jsx)("div",{className:"row flex-grow padded-half",children:Object(a.jsx)(x,{type:"textarea",minRows:5,className:"padded rounded elevated flex-grow",value:z,placeholder:"Your text will appear here once entered"})})]})})]})}},YFqc:function(e,t,r){e.exports=r("cTJO")},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),a=r("284h");t.__esModule=!0,t.default=void 0;var o=a(r("q1tI")),c=r("elyg"),i=r("nOHt"),s=r("vNVm"),l={};function u(e,t,r,n){if(e&&(0,c.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;l[t+"%"+r+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,r=(0,i.useRouter)(),a=r&&r.pathname||"/",d=o.default.useMemo((function(){var t=(0,c.resolveHref)(a,e.href,!0),r=n(t,2),o=r[0],i=r[1];return{href:o,as:e.as?(0,c.resolveHref)(a,e.as):i||o}}),[a,e.href,e.as]),p=d.href,f=d.as,b=e.children,m=e.replace,h=e.shallow,v=e.scroll,y=e.locale;"string"===typeof b&&(b=o.default.createElement("a",null,b));var j=o.Children.only(b),g=j&&"object"===typeof j&&j.ref,x=(0,s.useIntersection)({rootMargin:"200px"}),O=n(x,2),w=O[0],S=O[1],k=o.default.useCallback((function(e){w(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,w]);(0,o.useEffect)((function(){var e=S&&t&&(0,c.isLocalURL)(p),n="undefined"!==typeof y?y:r&&r.locale,a=l[p+"%"+f+(n?"%"+n:"")];e&&!a&&u(r,p,f,{locale:n})}),[f,p,S,y,t,r]);var N={ref:k,onClick:function(e){j.props&&"function"===typeof j.props.onClick&&j.props.onClick(e),e.defaultPrevented||function(e,t,r,n,a,o,i,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(r))&&(e.preventDefault(),null==i&&(i=n.indexOf("#")<0),t[a?"replace":"push"](r,n,{shallow:o,locale:s,scroll:i}).then((function(e){e&&i&&document.body.focus()})))}(e,r,p,f,m,h,v,y)},onMouseEnter:function(e){(0,c.isLocalURL)(p)&&(j.props&&"function"===typeof j.props.onMouseEnter&&j.props.onMouseEnter(e),u(r,p,f,{priority:!0}))}};if(e.passHref||"a"===j.type&&!("href"in j.props)){var M="undefined"!==typeof y?y:r&&r.locale,C=(0,c.getDomainLocale)(f,M,r&&r.locales,r&&r.domainLocales);N.href=C||(0,c.addBasePath)((0,c.addLocale)(f,M,r&&r.defaultLocale))}return o.default.cloneElement(j,N)};t.default=d},"kwT+":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("nKUr");function a(e){var t=e.text,r=e.dark;return Object(n.jsx)("div",{className:"row padded rounded elevated",style:{height:"50px",backgroundColor:r?"#232323":""},children:Object(n.jsx)("h1",{className:"column",style:{color:r?"white":"black"},children:t})})}},oTOh:function(e,t,r){"use strict";var n=r("nKUr"),a=(r("q1tI"),r("YFqc")),o=r.n(a),c=r("E4MH");t.a=function(e){var t=e.title,r=e.home;return Object(n.jsxs)("nav",{className:"row flex-start",style:{backgroundColor:"#232323",height:"100px"},children:[Object(n.jsxs)("div",{className:"row",children:[r&&Object(n.jsx)("img",{style:{height:"100px",width:"150px"},src:"".concat(c.basePath,"/PNWLogo.png")}),!r&&Object(n.jsx)(o.a,{href:"/",children:Object(n.jsx)("a",{className:"big-text",style:{color:"white",alignSelf:"center"},children:"<Home"})})]}),Object(n.jsx)("div",{className:"row wide",children:Object(n.jsx)("h1",{style:{color:"white",alignSelf:"center"},children:t})}),Object(n.jsx)(o.a,{href:"".concat(c.github).concat(c.basePath),children:Object(n.jsx)("img",{src:"".concat(c.basePath,"/github-corner-right.svg"),style:{height:"50px",width:"auto"}})})]})}},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},vNVm:function(e,t,r){"use strict";var n=r("J4zp"),a=r("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!i,a=(0,o.useRef)(),l=(0,o.useState)(!1),u=n(l,2),d=u[0],p=u[1],f=(0,o.useCallback)((function(e){a.current&&(a.current(),a.current=void 0),r||d||e&&e.tagName&&(a.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=s.get(t);if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return s.set(t,r={id:t,observer:a,elements:n}),r}(r),a=n.id,o=n.observer,c=n.elements;return c.set(e,t),o.observe(e),function(){c.delete(e),o.unobserve(e),0===c.size&&(o.disconnect(),s.delete(a))}}(e,(function(e){return e&&p(e)}),{rootMargin:t}))}),[r,t,d]);return(0,o.useEffect)((function(){i||d||(0,c.default)((function(){return p(!0)}))}),[d]),[f,d]};var o=r("q1tI"),c=a(r("0G5g")),i="undefined"!==typeof IntersectionObserver;var s=new Map},wx14:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},yLpj:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},zLVn:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}r.d(t,"a",(function(){return n}))}},[["Bdpc",0,2,1,3]]]);